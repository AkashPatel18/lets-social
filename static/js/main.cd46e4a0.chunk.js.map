{"version":3,"sources":["context/user.js","firebase/firebase.js","components/createPost.js","helper/makeId.js","services/auth.js","components/heading.js","components/footer.js","components/Post.js","components/home.js","app.js","index.js"],"names":["UserContext","createContext","UserContextProvider","props","useState","user","setUser","Provider","value","children","db","firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","firestore","auth","storage","provider","GoogleAuthProvider","CreatePost","useContext","caption","setCaption","image","setImage","progress","setProgress","className","rows","placeholder","onChange","e","target","id","alt","htmlFor","style","cursor","fontSize","type","accept","files","url","URL","createObjectURL","image_preview","document","getElementById","src","console","log","display","name","onClick","imageName","length","text","possible","i","charAt","Math","floor","random","makeid","ref","put","on","snapshot","round","bytesTransferred","totalBytes","err","child","getDownloadURL","then","collection","add","timestamp","FieldValue","serverTimestamp","photoUrl","username","email","replace","userProfileUrl","photoURL","color","signInWithGoogle","a","signInWithPopup","res","catch","message","Heading","signInBtnClick","userBySignIn","Footer","href","Post","userprofileUrl","time","comments","imageRef","refFromURL","delete","doc","Home","posts","setPosts","useEffect","onSnapshot","docs","map","post","data","App","ReactDOM","render"],"mappings":"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","file":"static/js/main.cd46e4a0.chunk.js","sourcesContent":["import { createContext, useState } from 'react'\r\n \r\nexport const UserContext = createContext()\r\n\r\nexport const UserContextProvider = (props) => {\r\n    const [user,setUser] = useState(null)\r\n\r\n    return (\r\n        <>\r\n        <UserContext.Provider value={{ user : [user,\r\n        setUser]}}>\r\n            {props.children}\r\n        </UserContext.Provider>\r\n\r\n        </>\r\n    )\r\n\r\n}","import firebase from 'firebase';\r\n\r\nvar firebaseConfig = {\r\n    apiKey: \"AIzaSyAbaKLU4-S_zImzRgLZiCL8yvpoCDwG3u0\",\r\n    authDomain: \"insta2-c1959.firebaseapp.com\",\r\n    projectId: \"insta2-c1959\",\r\n    storageBucket: \"insta2-c1959.appspot.com\",\r\n    messagingSenderId: \"803612702424\",\r\n    appId: \"1:803612702424:web:61c1c99be42b2ebde189ad\"\r\n  };\r\n\r\n\r\nconst firebaseApp = firebase.initializeApp(firebaseConfig)\r\n\r\n//firestore is a database ,,, which include for db\r\nconst db = firebaseApp.firestore()\r\nconst auth = firebase.auth()\r\nconst storage = firebase.storage()\r\nconst provider = new firebase.auth.GoogleAuthProvider()\r\n\r\n\r\nexport  { db, auth , storage , provider }","import {React,useContext,useState} from 'react'\r\nimport { UserContext } from '../context/user'\r\nimport AddAPhotoIcon from '@material-ui/icons/AddAPhoto';\r\nimport './createPost.css'\r\nimport { Button } from '@material-ui/core';\r\nimport {db, storage} from '../firebase/firebase'\r\nimport makeid from '../helper/makeId'\r\nimport firebase from 'firebase'\r\n\r\nconst CreatePost = () => {\r\n\r\n    const [user,setUser] = useContext(UserContext).user\r\n\r\n    const [caption,setCaption] = useState(\"\")\r\n\r\n    const [image,setImage] = useState(null)\r\n\r\n    const [progress,setProgress] =useState(0)\r\n\r\n    const handleChange = (e) => {\r\n        if(e.target.files[0]){\r\n            setImage(e.target.files[0])\r\n\r\n            var url = URL.createObjectURL(e.target.files[0])\r\n            var image_preview = document.getElementById(\"image_preview\")\r\n\r\n            image_preview.src = url\r\n            console.log(url);\r\n            image_preview.style.display = \"block\"\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const handleUpload = () => {\r\n        \r\n        if(image){\r\n            var imageName =makeid(10)\r\n            const uploadTask = storage.ref(`images/${imageName}.jpg`).put(image)\r\n\r\n            uploadTask.on(\"state_changed\", (snapshot) => {\r\n                //progress\r\n                const progress = Math.round((snapshot.bytesTransferred/\r\n                    snapshot.totalBytes)*100)\r\n                \r\n                setProgress(progress)\r\n\r\n            },(err) => {\r\n                console.log(err)\r\n            },() => {\r\n                //get download url\r\n                storage.ref(\"images\").child(`${imageName}.jpg`)\r\n                .getDownloadURL()\r\n                .then((url) => {\r\n                    db.collection(\"posts\").add({\r\n                        timestamp : firebase.firestore.FieldValue.serverTimestamp(),\r\n                        caption : caption,\r\n                        photoUrl : url,\r\n                        username : user.email.replace(\"@gmail.com\",\"\"),\r\n                        userProfileUrl : user.photoURL,\r\n\r\n                    })\r\n                })\r\n\r\n                setCaption(\"\")\r\n                setProgress(0)\r\n                setImage(null)\r\n\r\n                document.getElementById('image_preview').style.display=\"none\"\r\n            })\r\n\r\n           \r\n           \r\n        }\r\n        \r\n    }\r\n\r\n\r\n    return(<> \r\n        <div className=\"createPost\">\r\n            { user ? \r\n            <div className=\"post\">\r\n                <p>Create A Post</p>\r\n                <div className=\"post_div\">\r\n                    <textarea className=\"textarea\" rows=\"5\" value={caption} placeholder=\"enter caption ...\"\r\n                    onChange={(e) => setCaption(e.target.value)}\r\n                    ></textarea>\r\n                </div>\r\n\r\n                <div className=\"image_preview\">\r\n                    <img id=\"image_preview\" alt=\"\" value={image}></img>\r\n                </div>\r\n\r\n                <div className=\"post_bottom\">\r\n\r\n                <div className=\"image_upload_post\">\r\n                    <label htmlFor=\"fileInput\">\r\n                        <AddAPhotoIcon style={{ cursor:\"pointer\",\r\n                        fontSize:\"20px\"}} />\r\n                    </label>\r\n                    <input type=\"file\" \r\n                    id=\"fileInput\"\r\n                    accept=\"image/*\" \r\n                    onChange={handleChange}\r\n                    style = {{ display:\"none\" }}\r\n                    name=\"image\"   \r\n                    ></input>\r\n                </div>\r\n\r\n                <div>\r\n                    <button className=\"post_btn\"\r\n                    onClick={handleUpload}\r\n                    style={{ color : caption || image ? \"#000\" : \"Lightgrey\"}}\r\n                    >\r\n                    {`Upload ${progress !=0 ? progress : \"\"}`}\r\n                    </button>\r\n                 </div>  \r\n                 \r\n                </div>\r\n            </div>\r\n            : \r\n            <p> to post & comment Signin with Google</p> }    \r\n        </div>\r\n    </>)\r\n}\r\n\r\nexport default CreatePost\r\n\r\n","export default function makeid(length)\r\n{\r\n    var text = \"\";\r\n    var possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n\r\n    for(var i=0; i < length; i++)\r\n    {\r\n        text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n    }\r\n\r\n    return text;\r\n}","import { auth , provider } from \"../firebase/firebase\"\r\n\r\nconst signInWithGoogle = async () => {\r\n\r\n    let user\r\n\r\n    await auth.signInWithPopup(provider)\r\n    .then((res) => {\r\n        console.log(res.user);\r\n        user = res.user\r\n        \r\n\r\n    }).catch((err) => {\r\n        console.log(err.message);\r\n    })\r\n\r\n    return user\r\n\r\n} \r\n\r\nexport const logout = async () => {\r\n    let logoutSucess ;\r\n\r\n    await auth.signOut()\r\n    .then(() => {\r\n        logoutSucess = true\r\n    }).catch((err) => {\r\n        console.log(err);\r\n    })\r\n\r\n    return logoutSucess\r\n}\r\n\r\nexport default  signInWithGoogle","import {React,useState,useContext} from 'react'\r\nimport { UserContext } from '../context/user'\r\nimport signInWithGoogle from '../services/auth'\r\n// import { auth , provider } from \"../firebase/firebase\"\r\n\r\n//css\r\nimport './heading.css'\r\n\r\n\r\nconst Heading = () => { \r\n\r\n    const [user,setUser] = useContext(UserContext).user\r\n\r\n\r\n    const signInBtnClick = async () => {\r\n        let userBySignIn = await signInWithGoogle();\r\n        if(userBySignIn) setUser(userBySignIn)\r\n\r\n}\r\n        \r\n    return (\r\n    <>\r\n        <div className=\"heading_bar\">\r\n            <h1 className=\"heading_h1\"><b>Lets Social</b></h1>\r\n            { user ? <img className=\"user_img\"src={user.photoURL} alt=\"\"></img> :\r\n            <button onClick={signInBtnClick} className=\"signin_btn\"><b>Sign in with Google</b></button>}\r\n        </div>\r\n    </>\r\n    )\r\n    }   \r\nexport default Heading\r\n","import React from 'react'\r\nimport \"./footer.css\"\r\nconst Footer = () => {\r\n    return(\r\n    <span className=\"footer\">\r\n    <a href=\"https://github.com/AkashPatel18\" target=\"_blank\">Made with ❤️ By Akash</a>\r\n    </span>\r\n    )\r\n\r\n\r\n}\r\n\r\nexport default Footer","import React,{useState,useContext} from 'react'\r\nimport { UserContext } from \"../context/user\" \r\nimport {db,storage } from '../firebase/firebase'\r\n\r\nimport \"./post.css\"\r\n\r\n\r\nconst Post = ({ userprofileUrl,username,id,photoURL,caption,comments,time}) => {\r\n\r\n    const [user,setUser] = useContext(UserContext).user\r\n\r\n\r\n    const deletePost = () => {\r\n        //delete from db\r\n\r\n        //get refrence\r\n        var imageRef = storage.refFromURL(photoURL) \r\n        if(imageRef){\r\n        imageRef.delete().then(() => {\r\n            console.log(\"delered\");\r\n        })\r\n    }\r\n\r\n        db.collection(\"posts\").doc(id).delete().then(() => {\r\n            console.log(\"deleted\");\r\n        })\r\n\r\n        console.log(db.collection(\"posts\").doc(id))\r\n    }\r\n    return (<>\r\n        \r\n            <div className=\"post\">\r\n               <p>{username}</p>\r\n               <img src={photoURL} alt=\"\" className=\"post_img\"></img>\r\n                <p>{time}</p>\r\n               <p><b>{username}</b> <span>{caption}</span></p>\r\n               {user ?\r\n\r\n               <button onClick={deletePost} className=\"post_delete_btn\">Delete</button>\r\n               :\r\n              <div></div> }\r\n            </div>\r\n        \r\n    </>)\r\n}\r\n\r\nexport default Post","import React,{useState,useEffect} from 'react'\r\nimport Post from './Post'\r\nimport  {db}  from '../firebase/firebase'\r\nimport './home.css'\r\n\r\nconst Home = () => {\r\n\r\n    const [posts,setPosts] = useState([])\r\n\r\n    useEffect(() => {\r\n        db.collection(\"posts\").onSnapshot((snapshot) => {\r\n            setPosts(snapshot.docs.map((doc) => ({ id:doc.id,post:doc.data()})))\r\n        })\r\n    },[])\r\n        \r\n    return(<>\r\n    <div className=\"home_feed\">\r\n\r\n   \r\n  \r\n    {posts.map(({id , post }) => {\r\n        return (\r\n        <Post\r\n            key={id}\r\n            id={id}\r\n            photoURL={post.photoUrl}\r\n            username = {post.username}\r\n            caption={post.caption}\r\n        />)\r\n    })}\r\n\r\n    </div>\r\n    \r\n  \r\n    \r\n    </>\r\n    )\r\n}\r\n\r\nexport default Home","import React from 'react'\r\nimport CreatePost from './components/createPost'\r\nimport Heading from './components/heading'\r\nimport { UserContextProvider } from './context/user'\r\nimport Footer from './components/footer'\r\n\r\nimport Home from './components/home'\r\n\r\nconst App = () => {\r\n    return (<>\r\n    <UserContextProvider>\r\n        <Heading />\r\n        <CreatePost/>\r\n        <Home />\r\n        <Footer />\r\n    </UserContextProvider>\r\n    </>)\r\n\r\n}\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './app'\r\n\r\nimport './index.css'\r\n\r\nReactDOM.render(<App/>,document.getElementById('root'))"],"sourceRoot":""}